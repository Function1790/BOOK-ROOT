CREATE TABLE users(
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    points INT DEFAULT 0, -- 누적 포인트
    role ENUM('USER', 'ADMIN') DEFAULT 'USER' -- 사용자 역할
);

insert into users(username, email, password) values ("임시 사용자","guest","guest");
insert into users(username, email, password, role) values ("관리자","admin","0000", "ADMIN");

CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE
);
insert into categories (name) values("시");
insert into categories (name) values("자기계발");
insert into categories (name) values("과학");
insert into categories (name) values("컴퓨터");
insert into categories (name) values("소설");

CREATE TABLE books (
    book_id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    author VARCHAR(100) NOT NULL,
    category_id INT,
    price DECIMAL(10, 2) NOT NULL, -- 도서 가격
    sold_count INT DEFAULT 0, -- 판매된 수량
    description TEXT, -- 도서 설명
    image_path TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (category_id) REFERENCES categories(category_id)
);
insert into books (title, author, category_id, price, description, image_path) values ("물리의 정석", "레너드서스킨드", 3, 16650, "물리를 배우고 싶은 누구든 환영입니다.", "sameple1.jpg");